<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" 
"http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="Grade">
	<typeAlias alias="str" type="java.lang.String" />
	<typeAlias alias="int" type="java.lang.Integer" />
	<typeAlias alias="grade" type="com.uni.fems.dto.GradeVO" />
	<typeAlias alias="reqst" type="com.uni.fems.dto.ReqstVO" />
	
	<update id="insertGrade" parameterClass="reqst">
		insert into GRADE(
			GD_STDNT_NO,
			GD_LCTRE_NO
		) values (
			#re_Stdnt_No#,
			#re_Lctre_No#
		)
	</update>
	<update id="updateGrade" parameterClass="grade">
		update GRADE
		set
			gd_Grade=#gd_Grade#,
			gd_Tot_Score=#gd_Tot_Score#,
			gd_Attd_Score=#gd_Attd_Score#,
			gd_Atend_Score=#gd_Atend_Score#,
			gd_Task_Score=#gd_Task_Score#,
			gd_Midex_Score=#gd_Midex_Score#,
			gd_Fnex_Score=#gd_Fnex_Score#,
			gd_Mini_Score=#gd_Mini_Score#
		where gd_Stdnt_No = #gd_Stdnt_No#
		and gd_Lctre_No = #gd_Lctre_No#
	</update>
	
	<update id="deleteGrade" parameterClass="reqst">
		delete from GRADE
		where gd_Stdnt_No = #re_Stdnt_No#
		and gd_Lctre_No = #re_Lctre_No#
	</update>
	
	<select id="selectGrade" parameterClass="grade" resultClass="grade">
		select * from grade
		where gd_Stdnt_No like '%'||#gd_Stdnt_No#||'%'
		and gd_Lctre_No like '%'||#gd_Lctre_No#||'%'
	</select>
	<select id="countGrade" parameterClass="grade" resultClass="int">
		select count(*) from grade
		where gd_Stdnt_No like '%'||#gd_Stdnt_No#||'%'
		and gd_Lctre_No like '%'||#gd_Lctre_No#||'%'
	</select>
</sqlMap>