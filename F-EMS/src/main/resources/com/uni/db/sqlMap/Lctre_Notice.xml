<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" 
"http://ibatis.apache.org/dtd/sql-map-2.dtd">


<!--  [[개정이력(Modification Information)]]        -->
<!--  수정일       수정자      수정내용             -->
<!--  ==========   ======    ==============         -->
<!--  $2017.02.19    KJS       최초작성             -->
<!--  $2017.02.20    KJS       기본작성             -->
<!--  $2017.02.24    KJS       추가작성             -->
<!--  Copyright (c) 2017 by DDIT All right reserved -->
<sqlMap namespace="Lctre_Notice">

 	<typeAlias alias="str" type="java.lang.String" />
	<typeAlias alias="int" type="java.lang.Integer" />
	<typeAlias alias="lctre_notice" type="com.uni.fems.dto.Lctre_NoticeVO" />
	<typeAlias alias="lctre_notice_gnt" type="com.uni.fems.dto.Lctre_Notice_GntVO" />
	
	<select id="listAllLctre_Notice" parameterClass="lctre_notice_gnt" resultClass="lctre_notice">
		select * from LCTRE_N$table_Nm$ 
		where LN_SJ like '%$ln_Sj$%' 
		and ln_Cn like '%$ln_Cn$%' 
		order by LN_BBS_NO desc
	</select>
	
	<select id="totalLctre_Notice"  parameterClass="lctre_notice_gnt" resultClass="int">
		select count(*) from LCTRE_N$table_Nm$ 
		where LN_SJ like '%$ln_Sj$%'
		and ln_Cn like '%$ln_Cn$%' 
	</select>
	
	<select id="getLctre_Notice"  parameterClass="lctre_notice_gnt" resultClass="lctre_notice">
		select * from LCTRE_N$table_Nm$ where LN_BBS_NO=#ln_Bbs_No#
	</select>
	
	<update id="insertLctre_Notice"  parameterClass="lctre_notice_gnt">
		insert into LCTRE_N$table_Nm$(LN_BBS_NO,LN_SJ,LN_CN,LN_WRITNG_DT,LN_RDCNT) 
		values(((select max(LN_BBS_NO) from LCTRE_N$table_Nm$)+1),#ln_Sj#,#ln_Cn#,sysdate,0)
	</update>
	
	<update id="updateLctre_Notice"  parameterClass="lctre_notice_gnt">
		update LCTRE_N$table_Nm$ set LN_SJ=#ln_Sj#,LN_CN=#ln_Cn# 
		where LN_BBS_NO=#ln_Bbs_No#
	</update>
	
	<update id="countLctre_Notice" parameterClass="lctre_notice_gnt">
		update LCTRE_N$table_Nm$ set LN_RDCNT=#ln_Rdcnt#
		where LN_BBS_NO=#ln_Bbs_No#
	</update>
	
	<update id="deleteLctre_Notice" parameterClass="lctre_notice_gnt">
		delete from LCTRE_N$table_Nm$ where LN_BBS_NO=#ln_Bbs_No#
	</update>
	
</sqlMap>