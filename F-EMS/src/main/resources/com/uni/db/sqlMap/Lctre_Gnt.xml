<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" 
"http://ibatis.apache.org/dtd/sql-map-2.dtd">


<!--  [[개정이력(Modification Information)]]        -->
<!--  수정일       수정자      수정내용             -->
<!--  ==========   ======    ==============         -->
<!--  $2017.02.19    KJS       최초작성             -->
<!--  $2017.02.26    KJS       수정작성             -->
<!--  $2017.02.28    KJS       수정작성             -->
<!--  Copyright (c) 2017 by DDIT All right reserved -->
<sqlMap namespace="Lctre_Gnt">

 	<typeAlias alias="str" type="java.lang.String" />
	<typeAlias alias="int" type="java.lang.Integer" />
	
	
	<update id="notice_Table" parameterClass="str">
		create table LCTRE_N$value$(	
			LN_BBS_NO number NOT NULL,
			LN_SJ varchar2(200),
			LN_CN varchar2(3000),
			LN_WRITNG_DT date,
			LN_RDCNT number,
			CONSTRAINT LN_$value$_PK PRIMARY KEY(LN_BBS_NO)
		)
	</update>
	
	<update id="date_Table" parameterClass="str">
		create table LCTRE_D$value$(	
			LD_BBS_NO number NOT NULL,
			LD_SJ varchar2(200),
			LD_CN varchar2(3000),
			LD_WRITNG_DT date,
			LD_RDCNT number,
			LD_FLPTH_NO NUMBER,
			CONSTRAINT LD_$value$_PK PRIMARY KEY(LD_BBS_NO),
			CONSTRAINT LD_$value$_LCTRE_FLPTH_FK FOREIGN KEY(LD_FLPTH_NO) REFERENCES LCTRE_FLPTH(LF_NO)
		)
	
	</update>
	<update id="qna_Table" parameterClass="str">
		create table LCTRE_Q$value$(	
			LQ_BBS_NO number NOT NULL,
			LQ_STDNT_NO varchar2(50),
			LQ_SJ varchar2(200),
			LQ_CN varchar2(3000),
			LQ_REPLY varchar2(3000),
			LQ_WRITNG_DT date,
			LQ_RDCNT number,
			CONSTRAINT LQ__$value$_PK PRIMARY KEY(LQ_BBS_NO),
			CONSTRAINT LQ_$value$_STDNT_FK FOREIGN KEY(LQ_STDNT_NO) REFERENCES STDNT(ST_STDNT_NO)
		)
	
	</update>

	<update id="task_Table" parameterClass="str">
		create table LCTRE_T$value$(	
			LT_BBS_NO number NOT NULL,
			LT_STDNT_NO varchar2(50),
			LT_SJ varchar2(200),
			LT_CN varchar2(3000),
			LT_WRITNG_DT date,
			LT_FLPTH_NO NUMBER,
			CONSTRAINT LT_$value$_PK PRIMARY KEY(LT_BBS_NO),
			CONSTRAINT LT_$value$_STDNT_FK FOREIGN KEY(LT_STDNT_NO) REFERENCES STDNT(ST_STDNT_NO),
			CONSTRAINT LT_$value$_LCTRE_FLPTH_FK FOREIGN KEY(LT_FLPTH_NO) REFERENCES LCTRE_FLPTH(LF_NO)
		)
	
	</update>
	<update id="video_Table" parameterClass="str">
		create table LCTRE_V$value$(	
			LV_BBS_NO number NOT NULL,
			LV_SJ varchar2(200),
			LV_CN varchar2(3000),
			LV_start_DT date,
			LV_End_DT date,
			LV_Time number,
			LV_FLPTH_NO NUMBER,
			CONSTRAINT LV_$value$_PK PRIMARY KEY(LV_BBS_NO),
			CONSTRAINT LV_$value$_LCTRE_FLPTH_FK FOREIGN KEY(LV_FLPTH_NO) REFERENCES LCTRE_FLPTH(LF_NO)
		)
	</update>
	<update id="watch_Table" parameterClass="str">
		create table LCTRE_W$value$(	
			LW_BBS_NO number NOT NULL,
			LW_STDNT_NO varchar2(50),
			LW_VIDEO_BBS_NO NUMBER,
			LW_Watch_Time number,
			LW_ATTENDANCE varchar2(50),
			CONSTRAINT LW_$value$_PK PRIMARY KEY(LW_BBS_NO),
			CONSTRAINT LW_$value$_LV_$value$_FK FOREIGN KEY(LW_VIDEO_BBS_NO) REFERENCES LCTRE_V$value$(LV_BBS_NO),
			CONSTRAINT LW_$value$_STDNT_FK FOREIGN KEY(LW_STDNT_NO) REFERENCES STDNT(ST_STDNT_NO)
		)
	</update>
	<insert id="insertLctreTable_Date" parameterClass="str">
		insert into LCTRE_D$table_Nm$(LD_BBS_NO,LD_SJ,LD_CN,LD_WRITNG_DT,LD_RDCNT) 
		values(0,'강의 생성','자료 게시판이 생성되었습니다.',sysdate,0)
	</insert>
	<insert id="insertLctreTable_Notice" parameterClass="str">
		insert into LCTRE_N$table_Nm$(LN_BBS_NO,LN_SJ,LN_CN,LN_WRITNG_DT,LN_RDCNT) 
		values(0,'강의 생성','공지 게시판이 생성되었습니다.',sysdate,0)
	</insert>
	<insert id="insertLctreTable_Qna" parameterClass="str">
		insert into LCTRE_Q$table_Nm$(LQ_BBS_NO,LQ_STDNT_NO,LQ_SJ,LQ_CN,LQ_REPLY,LQ_WRITNG_DT,LQ_RDCNT) 
		values(0,null,'강의 생성','질의 응답 게시판이 생성되었습니다.',null,sysdate,0)
	</insert>
	<insert id="insertLctreTable_Task" parameterClass="str">
		insert into LCTRE_T$table_Nm$(LT_BBS_NO,LT_STDNT_NO,LT_SJ,LT_CN,LT_WRITNG_DT) 
		values(0,null,'강의 생성','과제 게시판이 생성되었습니다.',sysdate)
	</insert>
	<insert id="insertLctreTable_Video" parameterClass="str">
		insert into LCTRE_V$table_Nm$(LV_BBS_NO,LV_SJ,LV_CN,LV_start_DT,LV_End_DT,LV_Time,LV_FLPTH_NO) 
		values(0,'강의 생성','동영상 게시판이 생성되었습니다.',null,null,0,null)
	</insert>
	<insert id="insertLctreTable_Watch" parameterClass="str">
		insert into LCTRE_W$table_Nm$(LW_BBS_NO,LW_STDNT_NO,LW_VIDEO_BBS_NO,LW_Watch_Time,LW_ATTENDANCE) 
		values(0,null,null,null,0,null)
	</insert>
	<update id="dropLctreTable" parameterClass="str">
		DROP TABLE $name$ CASCADE CONSTRAINTS PURGE
	</update>
</sqlMap>