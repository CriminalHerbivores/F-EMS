<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" 
"http://ibatis.apache.org/dtd/sql-map-2.dtd">

<!--  [[개정이력(Modification Information)]]       -->
<!--  수정일              수정자        수정내용               -->
<!--  ==========   ======    ==============        -->
<!--  2017.02.16.   JAR      최초작성               -->
<!--  Copyright (c) 2017 by DDIT All right reserved -->

<sqlMap namespace="Baskin">
	<typeAlias alias="str" type="java.lang.String" />
	<typeAlias alias="int" type="java.lang.Integer" />
	<typeAlias alias="baskin" type="com.uni.fems.dto.BaskinVO" />
	
	<select id="getBaskin" resultClass="baskin">
		select * from Baskin order by bskn_no desc
	</select>
	<update id="setBaskin" parameterClass="baskin">
		update manage
		set
			mng_Main_Color = #bskn_Main#,
			mng_Sub_Color1 = #bskn_Sub1#,
			mng_Sub_Color2 = #bskn_Sub2#
		where mng_univ_nm=#bskn_Nm#
	</update>
	<select id="getName" resultClass="str">
		select mng_univ_nm from manage where rownum=1
	</select>
	<update id="insertBaskin" parameterClass="baskin">
		insert into baskin(bskn_No,bskn_Nm,bskn_Main,bskn_Sub1,bskn_Sub2)
		values((select max(bskn_No)+1 from baskin),#bskn_Nm#,#bskn_Main#,#bskn_Sub1#,#bskn_Sub2#)
	</update>
</sqlMap>
