<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" 
"http://ibatis.apache.org/dtd/sql-map-2.dtd">

<!--  [[개정이력(Modification Information)]]        -->
<!--  수정일       수정자      수정내용             -->
<!--  ==========   ======    ==============         -->
<!--  $2017.01.24    KJH       최초작성             -->
<!--  $2017.02.20    KJH       추가작성             -->
<!--  Copyright (c) 2017 by DDIT All right reserved -->
        
<sqlMap namespace="Intrst_List">
	<typeAlias alias="intrst_list" type="com.uni.fems.dto.Intrst_ListVO" />
	<typeAlias alias="lctre_Search" type="com.uni.fems.dto.Lctre_SearchVO" />

	<!-- 관심목록 조회 -->
	<select id="selectIntrst_list" parameterClass="str" resultClass="lctre_Search">
		select * from lctre lc,INTRST_LIST, stdnt
		where LC_LCTRE_NO=IN_LCTRE_NO
		and IN_STDNT_NO=ST_STDNT_NO
		and IN_LCTRE_NO=#IN_LCTRE_NO# and IN_STDNT_NO=#IN_STDNT_NO#
		order by LC_LCTRE_NO asc
	</select>

	<!-- 관심목록 등록 -->
	<update id="insertIntrst_List" parameterClass="intrst_list">
		insert into intrst_list(in_Stdnt_No,in_Lctre_No)
			values(#in_Stdnt_No#,#in_Lctre_No#)
	</update>
	
	<!-- 관심목록 삭제 -->
	<update id="deleteIntrst_List" parameterClass="intrst_list">
		delete from intrst_list where in_Stdnt_No=#in_Stdnt_No# and in_Lctre_No=#in_Lctre_No#
	</update>
	
	</sqlMap>