<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" 
"http://ibatis.apache.org/dtd/sql-map-2.dtd">


<!--  [[개정이력(Modification Information)]]        -->
<!--  수정일                   수정자             수정내용             -->
<!--  ==========   ======    ==============         -->
<!--  $2017.02.19    KJS       최초작성             -->
<!--  $2017.02.20    KJS       추가작성             -->
<!--  $2017.02.22    KJS       추가작성             -->
<!--  Copyright (c) 2017 by DDIT All right reserved -->
<sqlMap namespace="Lctre_Date">

 	<typeAlias alias="str" type="java.lang.String" />
	<typeAlias alias="int" type="java.lang.Integer" />
	<typeAlias alias="lctre_date" type="com.uni.fems.dto.Lctre_DateVO" />
	<typeAlias alias="lctre_date_gnt" type="com.uni.fems.dto.Lctre_Date_GntVO" />
	
	<select id="listAllLctre_Date" parameterClass="lctre_date_Gnt" resultClass="lctre_date">
		select * from LCTRE_D$table_Nm$ 
		where LD_SJ like '%$ld_Sj$%' 
		and LD_CN like '%$ld_Cn$%' 
		order by LD_BBS_NO desc
	</select>
	 
	<select id="totalLctre_Date" parameterClass="lctre_date_Gnt" resultClass="int">
		select count(*) from LCTRE_D$table_Nm$ 
		where LD_SJ like '%$ld_Sj$%' 
		and LD_CN like '%$ld_Cn$%' 
	</select>
	
	<select id="getLctre_Date" parameterClass="lctre_date_Gnt" resultClass="lctre_date">
		select * from LCTRE_D$table_Nm$ where LD_BBS_NO=#ld_Bbs_No#
	</select>
	
	<update id="insertLctre_Date" parameterClass="lctre_date_Gnt">
		insert into LCTRE_D$table_Nm$(LD_BBS_NO,LD_SJ,LD_CN,LD_WRITNG_DT,LD_RDCNT,LD_FLPTH_NO) 
		values(nvl((select max(LD_BBS_NO)+1 from LCTRE_D$table_Nm$),1),#ld_Sj#,#ld_Cn#,sysdate,0,#ld_Flpth_No#)
	</update>
	
	<update id="updateLctre_Date" parameterClass="lctre_date_Gnt">
		update LCTRE_D$table_Nm$ set LD_SJ=#ld_Sj#,LD_CN=#ld_Cn#,LD_FLPTH_NO=#ld_Flpth_No# 
		where LD_BBS_NO=#ld_Bbs_No#
	</update>
	
	<update id="countLctre_Date" parameterClass="lctre_date_Gnt">
		update LCTRE_D$table_Nm$ set LD_RDCNT=#ld_Rdcnt#
		where LD_BBS_NO=#ld_Bbs_No#
	</update>
	
	<update id="deleteLctre_Date" parameterClass="lctre_date_Gnt">
		delete from LCTRE_D$table_Nm$ where LD_BBS_NO=#ld_Bbs_No#
	</update>
	
	
</sqlMap>